<div class="mt-2 flex flex-wrap content-center">
    <!-- Add product button -->
    <button
        class="ml-4"
        mat-flat-button
        [color]="'primary'"
        (click)="backTolistSaleNote()">
        <mat-icon [svgIcon]="'heroicons_outline:arrow-sm-left'"></mat-icon>
        <span class="ml-2 mr-1">Regresar a lista nota de ventas</span>
    </button>
</div>
<!-- Main -->
<cdk-virtual-scroll-viewport itemSize="50" class="sizeScroll relative flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between py-2 px-1 md:px-1 border-b">
    <!-- documentSeries list -->
    
        <div class="flex flex-col w-full" [formGroup]="selectedSaleNoteForm">
            <div class="relative flex-row flex-0 mx-4 px-4 pt-4 pb-0">
                <div class="relative flex flex-0 ">
                    <div class="w-4/12">
                        <mat-form-field class="pr-2" style="width: 100%;" >
                            <mat-label>Cliente</mat-label>
                            <input
                                [imask]="maskForInput"
                                matInput
                                [formControlName]="'client'">
                        </mat-form-field>
                    </div>
                    <div class="w-4/12 pr-2">
                        <app-select-search *ngIf="listObjCompanies.length > 0" [labelTop]= "'Empresa'" [listObj] = "listObjCompanies" 
                            [placeholder]="'empresa'" [placeholderLabel]="'Buscar empresa'" [id]= ""
                            [noEntriesFoundLabel]="'empresa no encontrada'" (objSelectedOut)="objCompanySelected($event)"  > 
                        </app-select-search>   
                    </div>
                    <div class="w-4/12">
                        <app-select-search *ngIf="listObjDocuments.length > 0" [labelTop]= "'Documento'" [listObj] = "listObjDocuments" 
                            [placeholder]="'documento'" [placeholderLabel]="'Buscar documento'" [id]= ""
                            [noEntriesFoundLabel]="'documento no encontrado'" (objSelectedOut)="objDocumentSelected($event)"  > 
                        </app-select-search>
                    </div>

                </div>
                <div class="relative flex flex-0 ">
                    <div class="w-4/12">
                        <mat-form-field class="pr-2" style="width: 100%;" appearance="fill">
                            <mat-label>Serie</mat-label>
                            <input
                                [imask]="maskForInput"
                                matInput
                                [formControlName]="'serie'">
                        </mat-form-field>
                    </div>
                    <div class="w-4/12">
                        <mat-form-field class="pr-2" style="width: 100%;" appearance="fill">
                            <mat-label>Número de documento</mat-label>
                            <input
                                [imask]="maskForInput"
                                matInput
                                [formControlName]="'numberdocument'">
                        </mat-form-field>
                    </div>
                    <div class="w-4/12">
                        <app-select-search *ngIf="listObjPaymentDeadlines.length > 0" [labelTop]= "'Plazo de pago'" [listObj] = "listObjPaymentDeadlines" 
                            [placeholder]="'plazo de pago'" [placeholderLabel]="'Buscar plazo de pago'" [id]= ""
                            [noEntriesFoundLabel]="'plazo de pago no encontrado'" (objSelectedOut)="objPaymentDeadlineSelected($event)"  > 
                        </app-select-search>
                    </div>
                </div>
                <div class="relative flex flex-0 ">
                    <div class="w-4/12">
                   <!--      <app-select-search *ngIf="listObjPaymentDeadlines.length > 0" [labelTop]= "'Plazo de pago'" [listObj] = "listObjPaymentDeadlines" 
                            [placeholder]="'plazo de pago'" [placeholderLabel]="'Buscar plazo de pago'" [id]= ""
                            [noEntriesFoundLabel]="'plazo de pago no encontrado'" (objSelectedOut)="objPaymentDeadlineSelected($event)"  > 
                        </app-select-search> -->
                    </div>
                    <div class="w-4/12">
                        <mat-form-field class="pr-2" style="width: 100%;" appearance="fill">
                            <mat-label>Referencia</mat-label>
                            <input
                                [imask]="maskForInput"
                                matInput
                                [formControlName]="'reference'">
                        </mat-form-field>
                    </div>
                    <div class="w-4/12">
                        <mat-form-field class="pr-2" style="width: 100%;" appearance="fill">
                            <mat-label>Nota</mat-label>
                            <input
                                [imask]="maskForInput"
                                matInput
                                [formControlName]="'note'">
                        </mat-form-field>
                    </div>
                </div>
                <div class="relative flex flex-0 ">
                    <div class="w-4/12">
                        <mat-form-field class="pr-2" style="width: 100%;" appearance="fill">
                            <mat-label>Fecha de emisión</mat-label>
                            <input
                                matInput
                                [formControlName]="'dateissue'">
                        </mat-form-field>
                    </div>
                    <div class="w-4/12">
                        <mat-form-field class="pr-2" style="width: 100%;" appearance="fill">
                            <mat-label>Fecha de modificación</mat-label>
                            <input
                                matInput
                                [formControlName]="'datemodification'">
                        </mat-form-field>
                    </div>
                </div>
                
            </div>
            <div class="relative flex-row flex-0 mx-2 p-0">
                <div class="relative flex flex-0 ml-6">
                    <div class="text-2xl font-extrabold tracking-tight">Datos del voucher</div>
                </div>
                <div class="relative flex flex-0 ">
                    <ng-container *ngIf="true ; else noSaleNote">
                        <div class="grid">
                            <!-- Header -->
                            <div
                                class="inventory-grid z-10 sticky top-0 grid gap-4 py-4 px-6 md:px-8 shadow text-md font-semibold text-secondary bg-gray-50 dark:bg-black dark:bg-opacity-5"
                                matSort
                                matSortDisableClear>
        
                                <div 
                                    class="hidden md:block"
                                    [mat-sort-header]="'sku'">
                                    SKU
                                </div>
                                <div
                                    class="hidden sm:block"
                                    [mat-sort-header]="'productname'">
                                    Nombre de producto
                                </div>
                                <div
                                    class="hidden lg:block"
                                    [mat-sort-header]="'quantity'">
                                    Cantidad
                                </div>
                                <div
                                    class="hidden lg:block"
                                    [mat-sort-header]="'netprice'">
                                    Precio neto (S/.)
                                </div>
                                <div
                                    class="hidden lg:block"
                                    [mat-sort-header]="'igvprice'">
                                    Precio IGV (S/.)
                                </div>
                                <div
                                    style="text-align: right;"
                                    class="hidden lg:block"
                                    [mat-sort-header]="'totalprice'">
                                    <span>Precio total (S/.)</span>
                                    
                                </div>
                                <!-- <div class="hidden sm:block">Detalles</div> -->
                            </div>
                            <!-- Rows -->
                       
                                <ng-container *ngFor="let voucherDetail of voucher; trackBy: trackByFn">
                                    <div class="inventory-grid grid items-center gap-4 py-3 px-6 md:px-8 border-b">
                                    
                                        <div class="truncate">
                                            {{voucherDetail.sku}}
                                        </div>
                                   
                                        <div class="truncate">
                                            <span matTooltip="Mark all as read" >
                                                {{voucherDetail.productname}}
                                            </span>
                                        </div>
                                      
                                        <div class="truncate pr-1" style="text-align: right;">
                                            {{voucherDetail.quantity}}
                                        </div>
                                       
                                        <div class="truncate pr-5" style="text-align: right;">
                                            {{voucherDetail.netprice | number:'1.2-2'}}
                                        </div>
                                        <div class="truncate pr-5" style="text-align: right;">
                                            {{voucherDetail.igvprice | number:'1.2-2'}}
                                        </div>
                                        
                                        <div class="truncate pr-5" style="text-align: right;">
                                            {{voucherDetail.totalprice | number:'1.2-2'}}
                                        </div>
                                    </div>    
                
                                </ng-container> 
                        </div>
    
                    </ng-container>
                    <ng-template #noSaleNote>
                        <div class="p-8 sm:p-16 border-t text-4xl font-semibold tracking-tight text-center">No hay compañías!</div>
                    </ng-template>

                </div>
            </div>
           
        </div>
        
</cdk-virtual-scroll-viewport>